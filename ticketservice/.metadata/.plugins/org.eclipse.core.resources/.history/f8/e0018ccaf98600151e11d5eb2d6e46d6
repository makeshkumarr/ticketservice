package org.test.ticketservice;

import java.util.Optional;

import org.junit.Test;
import org.test.ticketservice.services.TicketService;
import org.test.ticketservice.services.impl.TicketServiceImpl;

import static org.junit.Assert.*;
public class TicketServiceTest {

	TicketService ticketService = new TicketServiceImpl();
	
	@Test
	public void testNumSeatsAvailable() {
		assertEquals(6250,ticketService.numSeatsAvailable(Optional.empty()));		
		assertEquals(1250,ticketService.numSeatsAvailable(Optional.of(1)));
		assertEquals(200,ticketService.numSeatsAvailable(Optional.of(2)));
		assertEquals(1500,ticketService.numSeatsAvailable(Optional.of(3)));
		assertEquals(1500,ticketService.numSeatsAvailable(Optional.of(4)));

	}
	
	@Test
	public void testFindAndHoldSeats() {
		ticketService.findAndHoldSeats(50, Optional.of(1), Optional.of(2), "makeshkumar.r@gmail.com");
		assertEquals(6200,ticketService.numSeatsAvailable(Optional.empty()));		
	}
}
